{% extends 'base.html' %}

{% block title %}{{ student.first_name }}'s Profile{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 0 auto;">
    <div class="breadcrumb">
        <a href="{{ url_for('index') }}">Students</a>
        <span class="sep">›</span>
        <span class="current">Profile</span>
    </div>

    <!-- Profile Card -->
    <div class="card" style="margin-bottom: 20px;">
        <div class="profile-banner"></div>
        <div class="profile-header">
            <div class="profile-avatar">
                <div class="profile-avatar-inner">{{ student.first_name[0] }}{{ student.last_name[0] }}</div>
            </div>
            <div>
                <h1>{{ student.first_name }} {{ student.last_name }}</h1>
                <div class="profile-email">
                    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    {{ student.email }}
                </div>
            </div>
            <div class="profile-actions">
                <a href="{{ url_for('edit', student_id=student.id) }}" class="btn btn-secondary btn-sm">Edit Profile</a>
                <form action="{{ url_for('delete', student_id=student.id) }}" method="POST"
                    onsubmit="return confirm('Are you sure you want to delete this student?');">
                    <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                </form>
            </div>
        </div>
    </div>

    <div class="grid-2-1">
        <!-- Info Card -->
        <div class="card">
            <div class="card-header">
                <h2>Personal Information</h2>
            </div>
            <div class="card-body">
                <div class="info-grid">
                    <div class="info-item">
                        <dt>Phone Number</dt>
                        <dd>{{ student.phone or '—' }}</dd>
                    </div>
                    <div class="info-item">
                        <dt>Date of Birth</dt>
                        <dd>{{ student.date_of_birth or '—' }}</dd>
                    </div>
                    <div class="info-item">
                        <dt>Enrollment Date</dt>
                        <dd>{{ student.enrollment_date }}</dd>
                    </div>
                    <div class="info-item">
                        <dt>Student ID</dt>
                        <dd>#{{ student.id }}</dd>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Card -->
        <div class="card status-card">
            <h3>Current Status</h3>
            <span class="badge badge-{{ student.status }}" style="font-size: 0.85rem; padding: 6px 20px;">
                {{ student.status|upper }}
            </span>
            <p class="meta">Created: {{ student.created_at[:10] }}</p>
        </div>
    </div>
</div>
{% endblock %}